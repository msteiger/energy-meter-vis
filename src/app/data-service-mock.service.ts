import {Injectable} from '@angular/core';
import {BehaviorSubject, Observable, Subject} from "rxjs";
import {delay} from "rxjs/operators";
import { MeasurementData, SensorType } from './data-service.service';

@Injectable({
  providedIn: 'root'
})
export class DataServiceMock {

//  public httpClientSpy;

  constructor() {
//    this.httpClientSpy = jasmine.createSpyObj('HttpClient', ['post', 'get']);
  //  this.httpClientSpy.post.and.returnValue({ status: 200, data: {} });
    //this.httpClientSpy.get.and.returnValue({ status: 200, data: {} });
  }

  public getSensorTypes(): Observable<SensorType[]> {
    const val: SensorType[] =
      [
        {"id":"heating-boiler","name":"Boiler Temp","unit":"째C","min":0.0,"max":100.0},
        {"id":"heating-kessel","name":"Kessel Temp","unit":"째C","min":0.0,"max":100.0},
        {"id":"temperature","name":"Boiler In Temp","unit":"째C","min":0.0,"max":100.0},
        {"id":"em-power-in","name":"Power In","unit":"W","min":0.0,"max":7500.0},
        {"id":"em-power-in-l1","name":"Power In L1","unit":"W","min":0.0,"max":2500.0},
        {"id":"em-power-in-l2","name":"Power In L2","unit":"W","min":0.0,"max":2500.0},
        {"id":"em-power-in-l3","name":"Power In L3","unit":"W","min":0.0,"max":2500.0},
        {"id":"em-power-out","name":"Power Out","unit":"W","min":0.0,"max":2000.0},
        {"id":"inverter-ac-power","name":"Inverter AC Power","unit":"W","min":0.0,"max":2000.0},
        {"id":"inverter-dc-power","name":"Inverter DC Power","unit":"W","min":0.0,"max":2000.0},
        {"id":"inverter-dc-voltage","name":"Inverter DC Voltage","unit":"V","min":0.0,"max":250.0}];

    const s = new BehaviorSubject(val);
    s.complete();
    return s;
  }

  public getMonthlyTemperature(month: string): Observable<MeasurementData> {
    const val:MeasurementData =
      {
        "desc": { "id":"temperature", "name":"Boiler In Temp", "unit":"째C","min":0.0,"max":100.0},
        "start": 1635721200000,
        "end":1638313200000,
        "prev":"2021-10",
        "current":"2021-11",
        "next":"2021-12",
        "data":[{"measurements":1440,"x":1635721200000,"y":19.621146437856886},{"measurements":1440,"x":1635807600000,"y":22.790126736958822},{"measurements":1440,"x":1635894000000,"y":22.958045547538333},{"measurements":1440,"x":1635980400000,"y":23.910390798250834},{"measurements":1440,"x":1636066800000,"y":20.583477140135237},{"measurements":1440,"x":1636153200000,"y":22.008578042851553},{"measurements":1440,"x":1636239600000,"y":21.303795982731714},{"measurements":1440,"x":1636326000000,"y":20.641327757967844},{"measurements":1440,"x":1636412400000,"y":19.678437336948182},{"measurements":1440,"x":1636498800000,"y":21.577236985498004},{"measurements":1440,"x":1636585200000,"y":19.072240291039147},{"measurements":1440,"x":1636671600000,"y":19.82314310669899},{"measurements":1440,"x":1636758000000,"y":21.612856430477567},{"measurements":1440,"x":1636844400000,"y":21.855707287126116},{"measurements":1440,"x":1636930800000,"y":19.342588192886776},{"measurements":1440,"x":1637017200000,"y":21.822541930940417},{"measurements":1440,"x":1637103600000,"y":19.602267430888283},{"measurements":1440,"x":1637190000000,"y":21.2762356572681},{"measurements":1440,"x":1637276400000,"y":20.571537509891723},{"measurements":1440,"x":1637362800000,"y":18.216725644138123},{"measurements":1440,"x":1637449200000,"y":20.47544514073266},{"measurements":1440,"x":1637535600000,"y":19.831090949641332},{"measurements":1440,"x":1637622000000,"y":19.854231852293015},{"measurements":1440,"x":1637708400000,"y":19.95947988828023},{"measurements":1440,"x":1637794800000,"y":21.661948186159133},{"measurements":1440,"x":1637881200000,"y":23.173464254538217},{"measurements":1440,"x":1637967600000,"y":20.237127950456408},{"measurements":1440,"x":1638054000000,"y":20.49654800891876},{"measurements":1440,"x":1638140400000,"y":18.718325695064333},{"measurements":1440,"x":1638226800000,"y":23.299665766292147}]
      }
    const s = new BehaviorSubject(val);
    setTimeout(() => s.complete(), 500);
//    setTimeout(() => s.error({ status: 404, statusText: "Not Found"}), 500);
    return s.pipe(delay(100));
  }

  public getDailyInverter(day: string): Observable<MeasurementData | undefined> {
    const val: MeasurementData[] = [
      {"desc":{"id":"inverter-ac-power","name":"Inverter AC Power","unit":"W","min":0.0,"max":2000.0},"start":1632610800000,"end":1632697200000,"current":"2021-09-26","next":"2021-09-27","data":[{"measurements":15,"x":1632610800000,"y":0.0},{"measurements":15,"x":1632611700000,"y":0.0},{"measurements":15,"x":1632612600000,"y":0.0},{"measurements":15,"x":1632613500000,"y":0.0},{"measurements":15,"x":1632614400000,"y":0.0},{"measurements":15,"x":1632615300000,"y":0.0},{"measurements":15,"x":1632616200000,"y":0.0},{"measurements":15,"x":1632617100000,"y":0.0},{"measurements":15,"x":1632618000000,"y":0.0},{"measurements":15,"x":1632618900000,"y":0.0},{"measurements":15,"x":1632619800000,"y":0.0},{"measurements":15,"x":1632620700000,"y":0.0},{"measurements":15,"x":1632621600000,"y":0.0},{"measurements":15,"x":1632622500000,"y":0.0},{"measurements":15,"x":1632623400000,"y":0.0},{"measurements":15,"x":1632624300000,"y":0.0},{"measurements":15,"x":1632625200000,"y":0.0},{"measurements":15,"x":1632626100000,"y":0.0},{"measurements":15,"x":1632627000000,"y":0.0},{"measurements":15,"x":1632627900000,"y":0.0},{"measurements":15,"x":1632628800000,"y":0.0},{"measurements":15,"x":1632629700000,"y":0.0},{"measurements":15,"x":1632630600000,"y":0.0},{"measurements":15,"x":1632631500000,"y":0.0},{"measurements":15,"x":1632632400000,"y":0.0},{"measurements":15,"x":1632633300000,"y":0.0},{"measurements":15,"x":1632634200000,"y":13.866666666666667},{"measurements":15,"x":1632635100000,"y":62.13333333333333},{"measurements":15,"x":1632636000000,"y":136.46666666666667},{"measurements":15,"x":1632636900000,"y":238.8},{"measurements":15,"x":1632637800000,"y":347.3333333333333},{"measurements":15,"x":1632638700000,"y":474.2},{"measurements":15,"x":1632639600000,"y":598.0},{"measurements":15,"x":1632640500000,"y":701.1333333333333},{"measurements":15,"x":1632641400000,"y":804.0666666666667},{"measurements":15,"x":1632642300000,"y":916.0},{"measurements":15,"x":1632643200000,"y":1052.7333333333333},{"measurements":15,"x":1632644100000,"y":1163.8},{"measurements":15,"x":1632645000000,"y":1183.3333333333333},{"measurements":15,"x":1632645900000,"y":1123.8},{"measurements":15,"x":1632646800000,"y":832.9333333333333},{"measurements":15,"x":1632647700000,"y":516.1333333333333},{"measurements":15,"x":1632648600000,"y":622.6666666666666},{"measurements":15,"x":1632649500000,"y":682.2666666666667},{"measurements":15,"x":1632650400000,"y":339.8},{"measurements":15,"x":1632651300000,"y":432.3333333333333},{"measurements":15,"x":1632652200000,"y":171.93333333333334},{"measurements":15,"x":1632653100000,"y":255.13333333333333},{"measurements":15,"x":1632654000000,"y":180.13333333333333},{"measurements":15,"x":1632654900000,"y":156.26666666666668},{"measurements":15,"x":1632655800000,"y":212.93333333333334},{"measurements":15,"x":1632656700000,"y":157.06666666666666},{"measurements":15,"x":1632657600000,"y":179.93333333333334},{"measurements":15,"x":1632658500000,"y":172.53333333333333},{"measurements":15,"x":1632659400000,"y":304.6},{"measurements":15,"x":1632660300000,"y":660.1333333333333},{"measurements":15,"x":1632661200000,"y":1064.4},{"measurements":15,"x":1632662100000,"y":800.8666666666667},{"measurements":15,"x":1632663000000,"y":496.8},{"measurements":15,"x":1632663900000,"y":129.06666666666666},{"measurements":15,"x":1632664800000,"y":332.4},{"measurements":15,"x":1632665700000,"y":636.2},{"measurements":15,"x":1632666600000,"y":211.2},{"measurements":15,"x":1632667500000,"y":91.73333333333333},{"measurements":15,"x":1632668400000,"y":4.666666666666667},{"measurements":15,"x":1632669300000,"y":5.066666666666666},{"measurements":15,"x":1632670200000,"y":60.2},{"measurements":15,"x":1632671100000,"y":36.666666666666664},{"measurements":15,"x":1632672000000,"y":3.2},{"measurements":15,"x":1632672900000,"y":24.333333333333332},{"measurements":15,"x":1632673800000,"y":20.4},{"measurements":15,"x":1632674700000,"y":0.0},{"measurements":15,"x":1632675600000,"y":0.0},{"measurements":15,"x":1632676500000,"y":0.0},{"measurements":15,"x":1632677400000,"y":0.0},{"measurements":15,"x":1632678300000,"y":0.0},{"measurements":15,"x":1632679200000,"y":0.0},{"measurements":15,"x":1632680100000,"y":0.0},{"measurements":15,"x":1632681000000,"y":0.0},{"measurements":15,"x":1632681900000,"y":0.0},{"measurements":15,"x":1632682800000,"y":0.0},{"measurements":15,"x":1632683700000,"y":0.0},{"measurements":15,"x":1632684600000,"y":0.0},{"measurements":15,"x":1632685500000,"y":0.0},{"measurements":15,"x":1632686400000,"y":0.0},{"measurements":15,"x":1632687300000,"y":0.0},{"measurements":15,"x":1632688200000,"y":0.0},{"measurements":15,"x":1632689100000,"y":0.0},{"measurements":15,"x":1632690000000,"y":0.0},{"measurements":15,"x":1632690900000,"y":0.0},{"measurements":15,"x":1632691800000,"y":0.0},{"measurements":15,"x":1632692700000,"y":0.0},{"measurements":15,"x":1632693600000,"y":0.0},{"measurements":15,"x":1632694500000,"y":0.0},{"measurements":15,"x":1632695400000,"y":0.0},{"measurements":15,"x":1632696300000,"y":0.0}]},
      {"desc":{"id":"inverter-ac-power","name":"Inverter AC Power","unit":"W","min":0.0,"max":2000.0},"start":1632697200000,"end":1632783600000,"prev":"2021-09-26","current":"2021-09-27","next":"2021-09-28","data":[{"measurements":15,"x":1632697200000,"y":0.0},{"measurements":15,"x":1632698100000,"y":0.0},{"measurements":15,"x":1632699000000,"y":0.0},{"measurements":15,"x":1632699900000,"y":0.0},{"measurements":15,"x":1632700800000,"y":0.0},{"measurements":15,"x":1632701700000,"y":0.0},{"measurements":15,"x":1632702600000,"y":0.0},{"measurements":15,"x":1632703500000,"y":0.0},{"measurements":15,"x":1632704400000,"y":0.0},{"measurements":15,"x":1632705300000,"y":0.0},{"measurements":15,"x":1632706200000,"y":0.0},{"measurements":15,"x":1632707100000,"y":0.0},{"measurements":15,"x":1632708000000,"y":0.0},{"measurements":15,"x":1632708900000,"y":0.0},{"measurements":15,"x":1632709800000,"y":0.0},{"measurements":15,"x":1632710700000,"y":0.0},{"measurements":15,"x":1632711600000,"y":0.0},{"measurements":15,"x":1632712500000,"y":0.0},{"measurements":15,"x":1632713400000,"y":0.0},{"measurements":15,"x":1632714300000,"y":0.0},{"measurements":15,"x":1632715200000,"y":0.0},{"measurements":15,"x":1632716100000,"y":0.0},{"measurements":15,"x":1632717000000,"y":0.0},{"measurements":15,"x":1632717900000,"y":0.0},{"measurements":15,"x":1632718800000,"y":0.0},{"measurements":15,"x":1632719700000,"y":0.0},{"measurements":15,"x":1632720600000,"y":0.0},{"measurements":15,"x":1632721500000,"y":52.2},{"measurements":15,"x":1632722400000,"y":150.33333333333334},{"measurements":15,"x":1632723300000,"y":235.0},{"measurements":15,"x":1632724200000,"y":372.1333333333333},{"measurements":15,"x":1632725100000,"y":287.53333333333336},{"measurements":15,"x":1632726000000,"y":357.6666666666667},{"measurements":15,"x":1632726900000,"y":817.1333333333333},{"measurements":15,"x":1632727800000,"y":1040.0666666666666},{"measurements":15,"x":1632728700000,"y":1105.0666666666666},{"measurements":15,"x":1632729600000,"y":676.2},{"measurements":15,"x":1632730500000,"y":1407.8},{"measurements":15,"x":1632731400000,"y":804.2},{"measurements":15,"x":1632732300000,"y":222.93333333333334},{"measurements":15,"x":1632733200000,"y":1118.0666666666666},{"measurements":15,"x":1632734100000,"y":872.2},{"measurements":15,"x":1632735000000,"y":829.6666666666666},{"measurements":15,"x":1632735900000,"y":1437.2666666666667},{"measurements":15,"x":1632736800000,"y":986.3333333333334},{"measurements":15,"x":1632737700000,"y":934.8666666666667},{"measurements":15,"x":1632738600000,"y":1608.2},{"measurements":15,"x":1632739500000,"y":1319.6666666666667},{"measurements":15,"x":1632740400000,"y":1255.4666666666667},{"measurements":15,"x":1632741300000,"y":1400.6},{"measurements":15,"x":1632742200000,"y":1568.7333333333333},{"measurements":15,"x":1632743100000,"y":1382.0666666666666},{"measurements":15,"x":1632744000000,"y":876.2},{"measurements":15,"x":1632744900000,"y":426.26666666666665},{"measurements":15,"x":1632745800000,"y":327.1333333333333},{"measurements":15,"x":1632746700000,"y":362.06666666666666},{"measurements":15,"x":1632747600000,"y":461.2},{"measurements":15,"x":1632748500000,"y":419.3333333333333},{"measurements":15,"x":1632749400000,"y":468.3333333333333},{"measurements":15,"x":1632750300000,"y":365.2},{"measurements":15,"x":1632751200000,"y":344.2},{"measurements":15,"x":1632752100000,"y":346.3333333333333},{"measurements":15,"x":1632753000000,"y":195.66666666666666},{"measurements":15,"x":1632753900000,"y":152.86666666666667},{"measurements":15,"x":1632754800000,"y":133.33333333333334},{"measurements":15,"x":1632755700000,"y":125.2},{"measurements":15,"x":1632756600000,"y":60.0},{"measurements":15,"x":1632757500000,"y":39.266666666666666},{"measurements":15,"x":1632758400000,"y":27.533333333333335},{"measurements":15,"x":1632759300000,"y":95.66666666666667},{"measurements":15,"x":1632760200000,"y":70.73333333333333},{"measurements":15,"x":1632761100000,"y":30.666666666666668},{"measurements":15,"x":1632762000000,"y":13.466666666666667},{"measurements":15,"x":1632762900000,"y":0.0},{"measurements":15,"x":1632763800000,"y":0.0},{"measurements":15,"x":1632764700000,"y":0.0},{"measurements":15,"x":1632765600000,"y":0.0},{"measurements":15,"x":1632766500000,"y":0.0},{"measurements":15,"x":1632767400000,"y":0.0},{"measurements":15,"x":1632768300000,"y":0.0},{"measurements":15,"x":1632769200000,"y":0.0},{"measurements":15,"x":1632770100000,"y":0.0},{"measurements":15,"x":1632771000000,"y":0.0},{"measurements":15,"x":1632771900000,"y":0.0},{"measurements":15,"x":1632772800000,"y":0.0},{"measurements":15,"x":1632773700000,"y":0.0},{"measurements":15,"x":1632774600000,"y":0.0},{"measurements":15,"x":1632775500000,"y":0.0},{"measurements":15,"x":1632776400000,"y":0.0},{"measurements":15,"x":1632777300000,"y":0.0},{"measurements":15,"x":1632778200000,"y":0.0},{"measurements":15,"x":1632779100000,"y":0.0},{"measurements":15,"x":1632780000000,"y":0.0},{"measurements":15,"x":1632780900000,"y":0.0},{"measurements":15,"x":1632781800000,"y":0.0},{"measurements":15,"x":1632782700000,"y":0.0}]},
      {"desc":{"id":"inverter-ac-power","name":"Inverter AC Power","unit":"W","min":0.0,"max":2000.0},"start":1632783600000,"end":1632870000000,"prev":"2021-09-27","current":"2021-09-28","next":"2021-09-29","data":[{"measurements":15,"x":1632783600000,"y":0.0},{"measurements":15,"x":1632784500000,"y":0.0},{"measurements":15,"x":1632785400000,"y":0.0},{"measurements":15,"x":1632786300000,"y":0.0},{"measurements":15,"x":1632787200000,"y":0.0},{"measurements":15,"x":1632788100000,"y":0.0},{"measurements":15,"x":1632789000000,"y":0.0},{"measurements":15,"x":1632789900000,"y":0.0},{"measurements":15,"x":1632790800000,"y":0.0},{"measurements":15,"x":1632791700000,"y":0.0},{"measurements":15,"x":1632792600000,"y":0.0},{"measurements":15,"x":1632793500000,"y":0.0},{"measurements":15,"x":1632794400000,"y":0.0},{"measurements":15,"x":1632795300000,"y":0.0},{"measurements":15,"x":1632796200000,"y":0.0},{"measurements":15,"x":1632797100000,"y":0.0},{"measurements":15,"x":1632798000000,"y":0.0},{"measurements":15,"x":1632798900000,"y":0.0},{"measurements":15,"x":1632799800000,"y":0.0},{"measurements":15,"x":1632800700000,"y":0.0},{"measurements":15,"x":1632801600000,"y":0.0},{"measurements":15,"x":1632802500000,"y":0.0},{"measurements":15,"x":1632803400000,"y":0.0},{"measurements":15,"x":1632804300000,"y":0.0},{"measurements":15,"x":1632805200000,"y":0.0},{"measurements":15,"x":1632806100000,"y":0.0},{"measurements":15,"x":1632807000000,"y":23.4},{"measurements":15,"x":1632807900000,"y":101.73333333333333},{"measurements":15,"x":1632808800000,"y":224.66666666666666},{"measurements":15,"x":1632809700000,"y":329.06666666666666},{"measurements":15,"x":1632810600000,"y":494.8},{"measurements":15,"x":1632811500000,"y":419.8},{"measurements":15,"x":1632812400000,"y":526.2},{"measurements":15,"x":1632813300000,"y":791.9333333333333},{"measurements":15,"x":1632814200000,"y":935.2666666666667},{"measurements":15,"x":1632815100000,"y":1025.0666666666666},{"measurements":15,"x":1632816000000,"y":1151.0},{"measurements":15,"x":1632816900000,"y":853.3333333333334},{"measurements":15,"x":1632817800000,"y":907.0},{"measurements":15,"x":1632818700000,"y":371.6666666666667},{"measurements":15,"x":1632819600000,"y":405.93333333333334},{"measurements":15,"x":1632820500000,"y":957.4666666666667},{"measurements":15,"x":1632821400000,"y":1617.9333333333334},{"measurements":15,"x":1632822300000,"y":1264.6666666666667},{"measurements":15,"x":1632823200000,"y":331.6666666666667},{"measurements":15,"x":1632824100000,"y":324.8},{"measurements":15,"x":1632825000000,"y":967.6},{"measurements":15,"x":1632825900000,"y":1790.9333333333334},{"measurements":15,"x":1632826800000,"y":1668.6666666666667},{"measurements":15,"x":1632827700000,"y":1468.0},{"measurements":15,"x":1632828600000,"y":987.9333333333333},{"measurements":15,"x":1632829500000,"y":782.1333333333333},{"measurements":15,"x":1632830400000,"y":1597.4666666666667},{"measurements":15,"x":1632831300000,"y":1802.9333333333334},{"measurements":15,"x":1632832200000,"y":1531.8},{"measurements":15,"x":1632833100000,"y":1591.7333333333333},{"measurements":15,"x":1632834000000,"y":1553.4},{"measurements":15,"x":1632834900000,"y":1270.1333333333334},{"measurements":15,"x":1632835800000,"y":1075.4666666666667},{"measurements":15,"x":1632836700000,"y":886.6},{"measurements":15,"x":1632837600000,"y":715.4},{"measurements":15,"x":1632838500000,"y":712.0},{"measurements":15,"x":1632839400000,"y":561.0666666666667},{"measurements":15,"x":1632840300000,"y":612.9333333333333},{"measurements":15,"x":1632841200000,"y":454.46666666666664},{"measurements":15,"x":1632842100000,"y":383.26666666666665},{"measurements":15,"x":1632843000000,"y":241.53333333333333},{"measurements":15,"x":1632843900000,"y":117.93333333333334},{"measurements":15,"x":1632844800000,"y":89.53333333333333},{"measurements":15,"x":1632845700000,"y":55.93333333333333},{"measurements":15,"x":1632846600000,"y":30.066666666666666},{"measurements":15,"x":1632847500000,"y":9.066666666666666},{"measurements":15,"x":1632848400000,"y":0.0},{"measurements":15,"x":1632849300000,"y":0.0},{"measurements":15,"x":1632850200000,"y":0.0},{"measurements":15,"x":1632851100000,"y":0.0},{"measurements":15,"x":1632852000000,"y":0.0},{"measurements":15,"x":1632852900000,"y":0.0},{"measurements":15,"x":1632853800000,"y":0.0},{"measurements":15,"x":1632854700000,"y":0.0},{"measurements":15,"x":1632855600000,"y":0.0},{"measurements":15,"x":1632856500000,"y":0.0},{"measurements":15,"x":1632857400000,"y":0.0},{"measurements":15,"x":1632858300000,"y":0.0},{"measurements":15,"x":1632859200000,"y":0.0},{"measurements":15,"x":1632860100000,"y":0.0},{"measurements":15,"x":1632861000000,"y":0.0},{"measurements":15,"x":1632861900000,"y":0.0},{"measurements":15,"x":1632862800000,"y":0.0},{"measurements":15,"x":1632863700000,"y":0.0},{"measurements":15,"x":1632864600000,"y":0.0},{"measurements":15,"x":1632865500000,"y":0.0},{"measurements":15,"x":1632866400000,"y":0.0},{"measurements":15,"x":1632867300000,"y":0.0},{"measurements":15,"x":1632868200000,"y":0.0},{"measurements":15,"x":1632869100000,"y":0.0}]},
      {"desc":{"id":"inverter-ac-power","name":"Inverter AC Power","unit":"W","min":0.0,"max":2000.0},"start":1632870000000,"end":1632956400000,"prev":"2021-09-28","current":"2021-09-29","data":[{"measurements":15,"x":1632870000000,"y":0.0},{"measurements":15,"x":1632870900000,"y":0.0},{"measurements":15,"x":1632871800000,"y":0.0},{"measurements":15,"x":1632872700000,"y":0.0},{"measurements":15,"x":1632873600000,"y":0.0},{"measurements":15,"x":1632874500000,"y":0.0},{"measurements":15,"x":1632875400000,"y":0.0},{"measurements":15,"x":1632876300000,"y":0.0},{"measurements":15,"x":1632877200000,"y":0.0},{"measurements":15,"x":1632878100000,"y":0.0},{"measurements":15,"x":1632879000000,"y":0.0},{"measurements":15,"x":1632879900000,"y":0.0},{"measurements":15,"x":1632880800000,"y":0.0},{"measurements":15,"x":1632881700000,"y":0.0},{"measurements":15,"x":1632882600000,"y":0.0},{"measurements":15,"x":1632883500000,"y":0.0},{"measurements":15,"x":1632884400000,"y":0.0},{"measurements":15,"x":1632885300000,"y":0.0},{"measurements":15,"x":1632886200000,"y":0.0},{"measurements":15,"x":1632887100000,"y":0.0},{"measurements":15,"x":1632888000000,"y":0.0},{"measurements":15,"x":1632888900000,"y":0.0},{"measurements":15,"x":1632889800000,"y":0.0},{"measurements":15,"x":1632890700000,"y":0.0},{"measurements":15,"x":1632891600000,"y":0.0},{"measurements":15,"x":1632892500000,"y":0.0},{"measurements":15,"x":1632893400000,"y":3.8},{"measurements":15,"x":1632894300000,"y":20.333333333333332},{"measurements":15,"x":1632895200000,"y":52.266666666666666},{"measurements":15,"x":1632896100000,"y":50.733333333333334},{"measurements":15,"x":1632897000000,"y":96.8},{"measurements":15,"x":1632897900000,"y":558.4},{"measurements":15,"x":1632898800000,"y":739.8},{"measurements":15,"x":1632899700000,"y":896.0},{"measurements":15,"x":1632900600000,"y":1049.2666666666667},{"measurements":15,"x":1632901500000,"y":851.7333333333333},{"measurements":15,"x":1632902400000,"y":269.1333333333333},{"measurements":15,"x":1632903300000,"y":1136.4666666666667},{"measurements":15,"x":1632904200000,"y":1006.2666666666667},{"measurements":15,"x":1632905100000,"y":185.4},{"measurements":15,"x":1632906000000,"y":169.06666666666666},{"measurements":15,"x":1632906900000,"y":293.2},{"measurements":15,"x":1632907800000,"y":609.2666666666667},{"measurements":15,"x":1632908700000,"y":1303.2},{"measurements":15,"x":1632909600000,"y":1568.2},{"measurements":15,"x":1632910500000,"y":1401.6},{"measurements":15,"x":1632911400000,"y":1263.4},{"measurements":15,"x":1632912300000,"y":860.6},{"measurements":15,"x":1632913200000,"y":913.3333333333334},{"measurements":15,"x":1632914100000,"y":397.06666666666666},{"measurements":15,"x":1632915000000,"y":254.73333333333332},{"measurements":15,"x":1632915900000,"y":112.13333333333334},{"measurements":15,"x":1632916800000,"y":971.2},{"measurements":15,"x":1632917700000,"y":286.8666666666667},{"measurements":15,"x":1632918600000,"y":218.06666666666666},{"measurements":15,"x":1632919500000,"y":322.26666666666665},{"measurements":15,"x":1632920400000,"y":254.8},{"measurements":15,"x":1632921300000,"y":317.6},{"measurements":15,"x":1632922200000,"y":382.6666666666667},{"measurements":15,"x":1632923100000,"y":519.9333333333333},{"measurements":15,"x":1632924000000,"y":495.73333333333335},{"measurements":15,"x":1632924900000,"y":704.2},{"measurements":15,"x":1632925800000,"y":323.6},{"measurements":15,"x":1632926700000,"y":421.6},{"measurements":15,"x":1632927600000,"y":133.46666666666667},{"measurements":15,"x":1632928500000,"y":184.0},{"measurements":15,"x":1632929400000,"y":227.2},{"measurements":15,"x":1632930300000,"y":249.13333333333333},{"measurements":15,"x":1632931200000,"y":167.4},{"measurements":15,"x":1632932100000,"y":60.266666666666666},{"measurements":15,"x":1632933000000,"y":9.4},{"measurements":15,"x":1632933900000,"y":2.1333333333333333},{"measurements":15,"x":1632934800000,"y":0.0},{"measurements":15,"x":1632935700000,"y":0.0},{"measurements":15,"x":1632936600000,"y":0.0},{"measurements":15,"x":1632937500000,"y":0.0},{"measurements":15,"x":1632938400000,"y":0.0},{"measurements":15,"x":1632939300000,"y":0.0},{"measurements":15,"x":1632940200000,"y":0.0},{"measurements":15,"x":1632941100000,"y":0.0},{"measurements":15,"x":1632942000000,"y":0.0},{"measurements":15,"x":1632942900000,"y":0.0},{"measurements":15,"x":1632943800000,"y":0.0},{"measurements":15,"x":1632944700000,"y":0.0},{"measurements":15,"x":1632945600000,"y":0.0},{"measurements":15,"x":1632946500000,"y":0.0},{"measurements":15,"x":1632947400000,"y":0.0},{"measurements":15,"x":1632948300000,"y":0.0},{"measurements":15,"x":1632949200000,"y":0.0},{"measurements":15,"x":1632950100000,"y":0.0},{"measurements":15,"x":1632951000000,"y":0.0},{"measurements":15,"x":1632951900000,"y":0.0},{"measurements":15,"x":1632952800000,"y":0.0},{"measurements":15,"x":1632953700000,"y":0.0},{"measurements":15,"x":1632954600000,"y":0.0},{"measurements":15,"x":1632955500000,"y":0.0}]}
    ];
    const data = val.find(obj => obj.current == day);
    const s = new BehaviorSubject(data);
    setTimeout(() => s.complete(), 500);
    return s.pipe(delay(100));
  }

  public getDailyEmPower(day: string, idx: number) {
    const val: MeasurementData[] = [
      {"desc":{"id":"em-power-in-l1","name":"Power In L1","unit":"W","min":0.0,"max":2500.0},"start":1636239600000,"end":1636326000000,"prev":"2021-11-06","current":"2021-11-07","next":"2021-11-08","data":[{"measurements":10,"x":1636277700000,"y":699.8800048828125},{"measurements":15,"x":1636278300000,"y":714.3133382161458},{"measurements":15,"x":1636279200000,"y":702.8133341471354},{"measurements":15,"x":1636280100000,"y":697.8000040690105},{"measurements":15,"x":1636281000000,"y":690.5},{"measurements":15,"x":1636281900000,"y":688.2066609700521},{"measurements":15,"x":1636282800000,"y":688.6599975585938},{"measurements":15,"x":1636283700000,"y":705.093339029948},{"measurements":15,"x":1636284600000,"y":734.07333984375},{"measurements":15,"x":1636285500000,"y":744.4599975585937},{"measurements":15,"x":1636286400000,"y":743.6800130208334},{"measurements":15,"x":1636287300000,"y":747.8866739908855},{"measurements":15,"x":1636288200000,"y":733.3333333333334},{"measurements":15,"x":1636289100000,"y":722.3866739908855},{"measurements":15,"x":1636290000000,"y":723.5},{"measurements":15,"x":1636290900000,"y":529.3933286031087},{"measurements":15,"x":1636291800000,"y":38.286666297912596},{"measurements":15,"x":1636292700000,"y":41.78666636149089},{"measurements":15,"x":1636293600000,"y":42.333333841959636},{"measurements":15,"x":1636294500000,"y":66.95999876658122},{"measurements":15,"x":1636295400000,"y":697.9600016276041},{"measurements":15,"x":1636296300000,"y":709.1866617838542},{"measurements":15,"x":1636297200000,"y":712.9333414713542},{"measurements":15,"x":1636298100000,"y":714.2200032552083},{"measurements":15,"x":1636299000000,"y":751.3933308919271},{"measurements":15,"x":1636299900000,"y":745.2933349609375},{"measurements":15,"x":1636300800000,"y":761.8266682942708},{"measurements":15,"x":1636301700000,"y":340.0133285522461},{"measurements":15,"x":1636302600000,"y":93.7999994913737},{"measurements":15,"x":1636303500000,"y":69.54000040690104},{"measurements":15,"x":1636304400000,"y":73.55333404541015},{"measurements":15,"x":1636305300000,"y":106.9},{"measurements":15,"x":1636306200000,"y":68.98000081380208},{"measurements":15,"x":1636307100000,"y":81.1066665649414},{"measurements":15,"x":1636308000000,"y":88.6866673787435},{"measurements":15,"x":1636308900000,"y":114.0066655476888},{"measurements":15,"x":1636309800000,"y":134.26666615804035},{"measurements":15,"x":1636310700000,"y":106.6066665649414},{"measurements":15,"x":1636311600000,"y":116.11333363850912},{"measurements":15,"x":1636312500000,"y":126.8},{"measurements":15,"x":1636313400000,"y":126.54666748046876},{"measurements":15,"x":1636314300000,"y":151.6000010172526},{"measurements":15,"x":1636315200000,"y":130.9199991861979},{"measurements":15,"x":1636316100000,"y":121.63999989827474},{"measurements":15,"x":1636317000000,"y":121.72000122070312},{"measurements":1,"x":1636317900000,"y":122.4000015258789}]},
      {"desc":{"id":"em-power-in-l2","name":"Power In L2","unit":"W","min":0.0,"max":2500.0},"start":1636239600000,"end":1636326000000,"prev":"2021-11-06","current":"2021-11-07","next":"2021-11-08","data":[{"measurements":10,"x":1636277700000,"y":9.409999823570251},{"measurements":15,"x":1636278300000,"y":72.36666603088379},{"measurements":15,"x":1636279200000,"y":140.41333465576173},{"measurements":15,"x":1636280100000,"y":6.7},{"measurements":15,"x":1636281000000,"y":13.546666971842448},{"measurements":15,"x":1636281900000,"y":6.860000165303548},{"measurements":15,"x":1636282800000,"y":95.35999959309896},{"measurements":15,"x":1636283700000,"y":19.226666768391926},{"measurements":15,"x":1636284600000,"y":1456.7866861979167},{"measurements":15,"x":1636285500000,"y":1735.426665242513},{"measurements":15,"x":1636286400000,"y":1100.5666641235352},{"measurements":15,"x":1636287300000,"y":1111.779992167155},{"measurements":15,"x":1636288200000,"y":78.10000009536743},{"measurements":15,"x":1636289100000,"y":1155.2066528320313},{"measurements":15,"x":1636290000000,"y":1440.0533131917318},{"measurements":15,"x":1636290900000,"y":408.3066563924154},{"measurements":15,"x":1636291800000,"y":58.026666005452476},{"measurements":15,"x":1636292700000,"y":69.08666687011718},{"measurements":15,"x":1636293600000,"y":145.0999969482422},{"measurements":15,"x":1636294500000,"y":1.6133333206176759},{"measurements":15,"x":1636295400000,"y":15.62666727701823},{"measurements":15,"x":1636296300000,"y":213.98666687011718},{"measurements":15,"x":1636297200000,"y":160.14666748046875},{"measurements":15,"x":1636298100000,"y":159.23999938964843},{"measurements":15,"x":1636299000000,"y":181.1066640218099},{"measurements":15,"x":1636299900000,"y":278.8866678873698},{"measurements":15,"x":1636300800000,"y":238.54666544596355},{"measurements":15,"x":1636301700000,"y":156.61333312988282},{"measurements":15,"x":1636302600000,"y":164.57333272298177},{"measurements":15,"x":1636303500000,"y":291.75999755859374},{"measurements":15,"x":1636304400000,"y":251.2066660563151},{"measurements":15,"x":1636305300000,"y":228.94666849772136},{"measurements":15,"x":1636306200000,"y":223.92666625976562},{"measurements":15,"x":1636307100000,"y":474.8400014241536},{"measurements":15,"x":1636308000000,"y":119.15333404541016},{"measurements":15,"x":1636308900000,"y":149.12000045776367},{"measurements":15,"x":1636309800000,"y":211.25333455403646},{"measurements":15,"x":1636310700000,"y":293.2133341471354},{"measurements":15,"x":1636311600000,"y":332.47333374023435},{"measurements":15,"x":1636312500000,"y":206.83333333333334},{"measurements":15,"x":1636313400000,"y":176.04666646321616},{"measurements":15,"x":1636314300000,"y":140.44000142415365},{"measurements":15,"x":1636315200000,"y":78.71333338419596},{"measurements":15,"x":1636316100000,"y":32.653333282470705},{"measurements":15,"x":1636317000000,"y":45.49333381652832},{"measurements":1,"x":1636317900000,"y":129.8000030517578}]},
      {"desc":{"id":"em-power-in-l3","name":"Power In L3","unit":"W","min":0.0,"max":2500.0},"start":1636239600000,"end":1636326000000,"prev":"2021-11-06","current":"2021-11-07","next":"2021-11-08","data":[{"measurements":10,"x":1636277700000,"y":847.1600311279296},{"measurements":15,"x":1636278300000,"y":59.346666717529295},{"measurements":15,"x":1636279200000,"y":63.19333343505859},{"measurements":15,"x":1636280100000,"y":60.586666361490884},{"measurements":15,"x":1636281000000,"y":66.95333328247071},{"measurements":15,"x":1636281900000,"y":60.08000005086263},{"measurements":15,"x":1636282800000,"y":55.833333079020186},{"measurements":15,"x":1636283700000,"y":51.073333231608075},{"measurements":15,"x":1636284600000,"y":52.4},{"measurements":15,"x":1636285500000,"y":54.21333414713542},{"measurements":15,"x":1636286400000,"y":53.98666712443034},{"measurements":15,"x":1636287300000,"y":76.30666681925456},{"measurements":15,"x":1636288200000,"y":41.75333340962728},{"measurements":15,"x":1636289100000,"y":21.95999984741211},{"measurements":15,"x":1636290000000,"y":24.35333340962728},{"measurements":15,"x":1636290900000,"y":27.07333323160807},{"measurements":15,"x":1636291800000,"y":26.19333356221517},{"measurements":15,"x":1636292700000,"y":31.88000005086263},{"measurements":15,"x":1636293600000,"y":32.4533332824707},{"measurements":15,"x":1636294500000,"y":37.073332977294925},{"measurements":15,"x":1636295400000,"y":32.29333330790202},{"measurements":15,"x":1636296300000,"y":31.20666643778483},{"measurements":15,"x":1636297200000,"y":29.393333180745444},{"measurements":15,"x":1636298100000,"y":51.253333282470706},{"measurements":15,"x":1636299000000,"y":26.253333536783853},{"measurements":15,"x":1636299900000,"y":26.326666895548502},{"measurements":15,"x":1636300800000,"y":52.840000279744466},{"measurements":15,"x":1636301700000,"y":64.99333318074544},{"measurements":15,"x":1636302600000,"y":45.773333358764646},{"measurements":15,"x":1636303500000,"y":31.8},{"measurements":15,"x":1636304400000,"y":92.08000195821127},{"measurements":15,"x":1636305300000,"y":136.2866658528646},{"measurements":15,"x":1636306200000,"y":133.33999938964843},{"measurements":15,"x":1636307100000,"y":66.10000050862631},{"measurements":15,"x":1636308000000,"y":28.993333307902017},{"measurements":15,"x":1636308900000,"y":70.13333333333334},{"measurements":15,"x":1636309800000,"y":50.06000010172526},{"measurements":15,"x":1636310700000,"y":46.493333435058595},{"measurements":15,"x":1636311600000,"y":62.86666692097982},{"measurements":15,"x":1636312500000,"y":153.99333597819012},{"measurements":15,"x":1636313400000,"y":150.04666646321616},{"measurements":15,"x":1636314300000,"y":145.17333374023437},{"measurements":15,"x":1636315200000,"y":137.13999837239584},{"measurements":15,"x":1636316100000,"y":137.23333435058595},{"measurements":15,"x":1636317000000,"y":137.91333465576173},{"measurements":1,"x":1636317900000,"y":141.39999389648438}]}]
    const s = new BehaviorSubject(val[idx]);
    setTimeout(() => s.complete(), 500);
    return s.pipe(delay(100));
  }
}
